{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { moveHighlight, listReducer, ListActionTypes } from '../useList';\nimport { SelectActionTypes } from './useSelect.types';\nexport default function selectReducer(state, action) {\n  const {\n    open\n  } = state;\n  const {\n    context: {\n      selectionMode\n    }\n  } = action;\n  switch (action.type) {\n    case SelectActionTypes.buttonClick:\n      {\n        var _state$selectedValues;\n        const itemToHighlight = (_state$selectedValues = state.selectedValues[0]) != null ? _state$selectedValues : moveHighlight(null, 'start', action.context);\n        return _extends({}, state, {\n          open: !open,\n          highlightedValue: !open ? itemToHighlight : null\n        });\n      }\n    case SelectActionTypes.buttonArrowKeyDown:\n      if (action.key === 'ArrowDown') {\n        var _state$selectedValues2;\n        const itemToHighlight = (_state$selectedValues2 = state.selectedValues[0]) != null ? _state$selectedValues2 : moveHighlight(null, 'start', action.context);\n        return _extends({}, state, {\n          open: true,\n          highlightedValue: itemToHighlight\n        });\n      }\n      if (action.key === 'ArrowUp') {\n        var _state$selectedValues3;\n        const itemToHighlight = (_state$selectedValues3 = state.selectedValues[0]) != null ? _state$selectedValues3 : moveHighlight(null, 'end', action.context);\n        return _extends({}, state, {\n          open: true,\n          highlightedValue: itemToHighlight\n        });\n      }\n      break;\n    default:\n      break;\n  }\n  const newState = listReducer(state, action);\n  switch (action.type) {\n    case ListActionTypes.keyDown:\n      if (selectionMode === 'single' && (action.event.key === 'Enter' || action.event.key === ' ' || action.event.key === 'Escape')) {\n        return _extends({}, newState, {\n          open: false\n        });\n      }\n      break;\n    case ListActionTypes.itemClick:\n      if (selectionMode === 'single') {\n        return _extends({}, newState, {\n          open: false\n        });\n      }\n      break;\n    case ListActionTypes.blur:\n      return _extends({}, newState, {\n        open: false\n      });\n    default:\n      return newState;\n  }\n  return newState;\n}","map":{"version":3,"names":["_extends","moveHighlight","listReducer","ListActionTypes","SelectActionTypes","selectReducer","state","action","open","context","selectionMode","type","buttonClick","_state$selectedValues","itemToHighlight","selectedValues","highlightedValue","buttonArrowKeyDown","key","_state$selectedValues2","_state$selectedValues3","newState","keyDown","event","itemClick","blur"],"sources":["/Users/denizdemirtas/Desktop/Decal/decal-project/node_modules/@mui/base/useSelect/selectReducer.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { moveHighlight, listReducer, ListActionTypes } from '../useList';\nimport { SelectActionTypes } from './useSelect.types';\nexport default function selectReducer(state, action) {\n  const {\n    open\n  } = state;\n  const {\n    context: {\n      selectionMode\n    }\n  } = action;\n  switch (action.type) {\n    case SelectActionTypes.buttonClick:\n      {\n        var _state$selectedValues;\n        const itemToHighlight = (_state$selectedValues = state.selectedValues[0]) != null ? _state$selectedValues : moveHighlight(null, 'start', action.context);\n        return _extends({}, state, {\n          open: !open,\n          highlightedValue: !open ? itemToHighlight : null\n        });\n      }\n    case SelectActionTypes.buttonArrowKeyDown:\n      if (action.key === 'ArrowDown') {\n        var _state$selectedValues2;\n        const itemToHighlight = (_state$selectedValues2 = state.selectedValues[0]) != null ? _state$selectedValues2 : moveHighlight(null, 'start', action.context);\n        return _extends({}, state, {\n          open: true,\n          highlightedValue: itemToHighlight\n        });\n      }\n      if (action.key === 'ArrowUp') {\n        var _state$selectedValues3;\n        const itemToHighlight = (_state$selectedValues3 = state.selectedValues[0]) != null ? _state$selectedValues3 : moveHighlight(null, 'end', action.context);\n        return _extends({}, state, {\n          open: true,\n          highlightedValue: itemToHighlight\n        });\n      }\n      break;\n    default:\n      break;\n  }\n  const newState = listReducer(state, action);\n  switch (action.type) {\n    case ListActionTypes.keyDown:\n      if (selectionMode === 'single' && (action.event.key === 'Enter' || action.event.key === ' ' || action.event.key === 'Escape')) {\n        return _extends({}, newState, {\n          open: false\n        });\n      }\n      break;\n    case ListActionTypes.itemClick:\n      if (selectionMode === 'single') {\n        return _extends({}, newState, {\n          open: false\n        });\n      }\n      break;\n    case ListActionTypes.blur:\n      return _extends({}, newState, {\n        open: false\n      });\n    default:\n      return newState;\n  }\n  return newState;\n}"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD,SAASC,aAAa,EAAEC,WAAW,EAAEC,eAAe,QAAQ,YAAY;AACxE,SAASC,iBAAiB,QAAQ,mBAAmB;AACrD,eAAe,SAASC,aAAaA,CAACC,KAAK,EAAEC,MAAM,EAAE;EACnD,MAAM;IACJC;EACF,CAAC,GAAGF,KAAK;EACT,MAAM;IACJG,OAAO,EAAE;MACPC;IACF;EACF,CAAC,GAAGH,MAAM;EACV,QAAQA,MAAM,CAACI,IAAI;IACjB,KAAKP,iBAAiB,CAACQ,WAAW;MAChC;QACE,IAAIC,qBAAqB;QACzB,MAAMC,eAAe,GAAG,CAACD,qBAAqB,GAAGP,KAAK,CAACS,cAAc,CAAC,CAAC,CAAC,KAAK,IAAI,GAAGF,qBAAqB,GAAGZ,aAAa,CAAC,IAAI,EAAE,OAAO,EAAEM,MAAM,CAACE,OAAO,CAAC;QACxJ,OAAOT,QAAQ,CAAC,CAAC,CAAC,EAAEM,KAAK,EAAE;UACzBE,IAAI,EAAE,CAACA,IAAI;UACXQ,gBAAgB,EAAE,CAACR,IAAI,GAAGM,eAAe,GAAG;QAC9C,CAAC,CAAC;MACJ;IACF,KAAKV,iBAAiB,CAACa,kBAAkB;MACvC,IAAIV,MAAM,CAACW,GAAG,KAAK,WAAW,EAAE;QAC9B,IAAIC,sBAAsB;QAC1B,MAAML,eAAe,GAAG,CAACK,sBAAsB,GAAGb,KAAK,CAACS,cAAc,CAAC,CAAC,CAAC,KAAK,IAAI,GAAGI,sBAAsB,GAAGlB,aAAa,CAAC,IAAI,EAAE,OAAO,EAAEM,MAAM,CAACE,OAAO,CAAC;QAC1J,OAAOT,QAAQ,CAAC,CAAC,CAAC,EAAEM,KAAK,EAAE;UACzBE,IAAI,EAAE,IAAI;UACVQ,gBAAgB,EAAEF;QACpB,CAAC,CAAC;MACJ;MACA,IAAIP,MAAM,CAACW,GAAG,KAAK,SAAS,EAAE;QAC5B,IAAIE,sBAAsB;QAC1B,MAAMN,eAAe,GAAG,CAACM,sBAAsB,GAAGd,KAAK,CAACS,cAAc,CAAC,CAAC,CAAC,KAAK,IAAI,GAAGK,sBAAsB,GAAGnB,aAAa,CAAC,IAAI,EAAE,KAAK,EAAEM,MAAM,CAACE,OAAO,CAAC;QACxJ,OAAOT,QAAQ,CAAC,CAAC,CAAC,EAAEM,KAAK,EAAE;UACzBE,IAAI,EAAE,IAAI;UACVQ,gBAAgB,EAAEF;QACpB,CAAC,CAAC;MACJ;MACA;IACF;MACE;EAAM;EAEV,MAAMO,QAAQ,GAAGnB,WAAW,CAACI,KAAK,EAAEC,MAAM,CAAC;EAC3C,QAAQA,MAAM,CAACI,IAAI;IACjB,KAAKR,eAAe,CAACmB,OAAO;MAC1B,IAAIZ,aAAa,KAAK,QAAQ,KAAKH,MAAM,CAACgB,KAAK,CAACL,GAAG,KAAK,OAAO,IAAIX,MAAM,CAACgB,KAAK,CAACL,GAAG,KAAK,GAAG,IAAIX,MAAM,CAACgB,KAAK,CAACL,GAAG,KAAK,QAAQ,CAAC,EAAE;QAC7H,OAAOlB,QAAQ,CAAC,CAAC,CAAC,EAAEqB,QAAQ,EAAE;UAC5Bb,IAAI,EAAE;QACR,CAAC,CAAC;MACJ;MACA;IACF,KAAKL,eAAe,CAACqB,SAAS;MAC5B,IAAId,aAAa,KAAK,QAAQ,EAAE;QAC9B,OAAOV,QAAQ,CAAC,CAAC,CAAC,EAAEqB,QAAQ,EAAE;UAC5Bb,IAAI,EAAE;QACR,CAAC,CAAC;MACJ;MACA;IACF,KAAKL,eAAe,CAACsB,IAAI;MACvB,OAAOzB,QAAQ,CAAC,CAAC,CAAC,EAAEqB,QAAQ,EAAE;QAC5Bb,IAAI,EAAE;MACR,CAAC,CAAC;IACJ;MACE,OAAOa,QAAQ;EAAC;EAEpB,OAAOA,QAAQ;AACjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}